<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PharmLingo - Pharmacy Language Learning</title>
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0A4D68;
            --primary-light: #088395;
            --accent: #05C3DD;
            --accent-warm: #00D9FF;
            --success: #2ECC71;
            --warning: #F39C12;
            --error: #E74C3C;
            --bg-main: #F8FAFB;
            --bg-card: #FFFFFF;
            --text-primary: #1A2332;
            --text-secondary: #5C6C7D;
            --border: #E1E8ED;
            --shadow-sm: 0 2px 8px rgba(10, 77, 104, 0.08);
            --shadow-md: 0 4px 16px rgba(10, 77, 104, 0.12);
            --shadow-lg: 0 8px 32px rgba(10, 77, 104, 0.16);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #F8FAFB 0%, #E8F4F8 100%);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            background: var(--bg-card);
            box-shadow: var(--shadow-sm);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 3px solid var(--accent);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Syne', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo::before {
            content: "üíä";
            -webkit-text-fill-color: initial;
        }

        .language-toggle {
            display: flex;
            gap: 0.5rem;
            background: var(--bg-main);
            padding: 0.3rem;
            border-radius: 12px;
        }

        .language-toggle button {
            padding: 0.6rem 1.2rem;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'DM Sans', sans-serif;
        }

        .language-toggle button.active {
            background: var(--primary);
            color: white;
            box-shadow: var(--shadow-sm);
        }

        .language-toggle button:hover:not(.active) {
            background: white;
            color: var(--primary);
        }

        .hero {
            text-align: center;
            padding: 3rem 0;
            animation: fadeInUp 0.8s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-family: 'Syne', sans-serif;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .mode-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
        }

        .mode-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: var(--shadow-md);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .mode-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--accent) 0%, var(--accent-warm) 100%);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .mode-card:hover::before,
        .mode-card.active::before {
            transform: scaleX(1);
        }

        .mode-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }

        .mode-card.active {
            border-color: var(--primary);
            box-shadow: var(--shadow-lg);
        }

        .mode-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .mode-title {
            font-family: 'Syne', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .mode-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .category-selector {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
            justify-content: center;
        }

        .category-btn {
            padding: 0.8rem 1.5rem;
            border: 2px solid var(--border);
            background: var(--bg-card);
            color: var(--text-primary);
            border-radius: 24px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'DM Sans', sans-serif;
        }

        .category-btn:hover {
            border-color: var(--accent);
            background: var(--accent);
            color: white;
            transform: translateY(-2px);
        }

        .category-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .learning-area {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .learning-area.active {
            display: block;
        }

        .flashcard-container {
            display: flex;
            justify-content: center;
            margin: 3rem 0;
        }

        .flashcard {
            width: 100%;
            max-width: 600px;
            height: 400px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front,
        .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background: var(--bg-card);
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 3rem;
            border: 3px solid var(--accent);
        }

        .flashcard-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
        }

        .flashcard-word {
            font-family: 'Syne', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-align: center;
        }

        .flashcard-translation {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .flashcard-pronunciation {
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-style: italic;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .flashcard-back .flashcard-pronunciation {
            color: rgba(255, 255, 255, 0.8);
        }

        .play-audio {
            background: var(--accent);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            font-family: 'DM Sans', sans-serif;
        }

        .play-audio:hover {
            background: var(--accent-warm);
            transform: scale(1.05);
        }

        .flashcard-controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .control-btn {
            padding: 1rem 2rem;
            border: 2px solid var(--primary);
            background: var(--bg-card);
            color: var(--primary);
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'DM Sans', sans-serif;
        }

        .control-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .progress-bar {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            box-shadow: var(--shadow-sm);
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .progress-track {
            height: 12px;
            background: var(--border);
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
            border-radius: 6px;
            transition: width 0.5s ease;
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .quiz-question {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-md);
        }

        .question-text {
            font-family: 'Syne', sans-serif;
            font-size: 2rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 2rem;
            text-align: center;
        }

        .quiz-options {
            display: grid;
            gap: 1rem;
        }

        .quiz-option {
            padding: 1.2rem 1.5rem;
            border: 2px solid var(--border);
            background: var(--bg-card);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            text-align: left;
        }

        .quiz-option:hover {
            border-color: var(--accent);
            background: var(--bg-main);
            transform: translateX(8px);
        }

        .quiz-option.selected {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
        }

        .quiz-option.correct {
            border-color: var(--success);
            background: var(--success);
            color: white;
        }

        .quiz-option.incorrect {
            border-color: var(--error);
            background: var(--error);
            color: white;
        }

        .quiz-feedback {
            margin-top: 1.5rem;
            padding: 1.2rem;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .quiz-feedback.correct {
            background: rgba(46, 204, 113, 0.1);
            color: var(--success);
            border: 2px solid var(--success);
        }

        .quiz-feedback.incorrect {
            background: rgba(231, 76, 60, 0.1);
            color: var(--error);
            border: 2px solid var(--error);
        }

        .quiz-next {
            display: block;
            margin: 2rem auto;
            padding: 1.2rem 3rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'DM Sans', sans-serif;
        }

        .quiz-next:hover {
            background: var(--primary-light);
            transform: scale(1.05);
        }

        .quiz-results {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 3rem;
            text-align: center;
            box-shadow: var(--shadow-lg);
        }

        .results-score {
            font-family: 'Syne', sans-serif;
            font-size: 4rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .results-message {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .restart-btn {
            padding: 1.2rem 3rem;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'DM Sans', sans-serif;
        }

        .restart-btn:hover {
            background: var(--accent-warm);
            transform: scale(1.05);
        }

        .hint-text {
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 1rem;
            font-style: italic;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            .mode-selector {
                grid-template-columns: 1fr;
            }

            .flashcard {
                height: 350px;
            }

            .flashcard-word {
                font-size: 2rem;
            }

            .flashcard-translation {
                font-size: 1.5rem;
            }

            .question-text {
                font-size: 1.5rem;
            }

            .flashcard-controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">PharmLingo</div>
            <div class="language-toggle">
                <button class="lang-btn active" data-lang="mandarin">‰∏≠Êñá Mandarin</button>
                <button class="lang-btn" data-lang="malay">Bahasa Malay</button>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="hero">
            <h1>Master Pharmacy Language Skills</h1>
            <p class="subtitle">Learn essential Mandarin and Malay vocabulary for pharmacy settings</p>
        </div>

        <div class="mode-selector">
            <div class="mode-card" data-mode="flashcards">
                <span class="mode-icon">üìö</span>
                <h3 class="mode-title">Flashcards</h3>
                <p class="mode-description">Learn vocabulary with interactive flashcards and audio pronunciation</p>
            </div>
            <div class="mode-card" data-mode="quiz">
                <span class="mode-icon">‚úçÔ∏è</span>
                <h3 class="mode-title">Quiz Mode</h3>
                <p class="mode-description">Test your knowledge with multiple-choice questions</p>
            </div>
            <div class="mode-card" data-mode="phrases">
                <span class="mode-icon">üí¨</span>
                <h3 class="mode-title">Common Phrases</h3>
                <p class="mode-description">Practice essential customer service dialogues</p>
            </div>
        </div>

        <div id="flashcards-area" class="learning-area">
            <div class="category-selector">
                <button class="category-btn active" data-category="medications">Medications</button>
                <button class="category-btn" data-category="service">Customer Service</button>
                <button class="category-btn" data-category="conditions">Medical Conditions</button>
                <button class="category-btn" data-category="dosage">Dosage & Instructions</button>
            </div>

            <div class="progress-bar">
                <div class="progress-label">
                    <span>Progress</span>
                    <span id="progress-text">0 / 0</span>
                </div>
                <div class="progress-track">
                    <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <div class="flashcard-container">
                <div class="flashcard" id="flashcard">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <div class="flashcard-word" id="word-english">Loading...</div>
                            <p class="hint-text">Click to reveal translation</p>
                        </div>
                        <div class="flashcard-back">
                            <div class="flashcard-translation" id="word-translation">Translation</div>
                            <div class="flashcard-pronunciation" id="word-pronunciation">Pronunciation</div>
                            <button class="play-audio" id="play-audio">
                                <span>üîä</span>
                                <span>Play Audio</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flashcard-controls">
                <button class="control-btn" id="prev-btn">‚Üê Previous</button>
                <button class="control-btn" id="next-btn">Next ‚Üí</button>
            </div>
        </div>

        <div id="quiz-area" class="learning-area">
            <div class="category-selector">
                <button class="category-btn active" data-category="medications">Medications</button>
                <button class="category-btn" data-category="service">Customer Service</button>
                <button class="category-btn" data-category="conditions">Medical Conditions</button>
                <button class="category-btn" data-category="dosage">Dosage & Instructions</button>
            </div>

            <div class="progress-bar">
                <div class="progress-label">
                    <span>Quiz Progress</span>
                    <span id="quiz-progress-text">Question 0 / 0</span>
                </div>
                <div class="progress-track">
                    <div id="quiz-progress-fill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <div class="quiz-container" id="quiz-container">
                <!-- Quiz content will be inserted here -->
            </div>
        </div>

        <div id="phrases-area" class="learning-area">
            <div class="category-selector">
                <button class="category-btn active" data-category="greetings">Greetings</button>
                <button class="category-btn" data-category="questions">Common Questions</button>
                <button class="category-btn" data-category="instructions">Instructions</button>
            </div>

            <div class="flashcard-container">
                <div class="flashcard" id="phrase-flashcard">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <div class="flashcard-word" id="phrase-english">Loading...</div>
                            <p class="hint-text">Click to reveal translation</p>
                        </div>
                        <div class="flashcard-back">
                            <div class="flashcard-translation" id="phrase-translation">Translation</div>
                            <div class="flashcard-pronunciation" id="phrase-pronunciation">Pronunciation</div>
                            <button class="play-audio" id="phrase-play-audio">
                                <span>üîä</span>
                                <span>Play Audio</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flashcard-controls">
                <button class="control-btn" id="phrase-prev-btn">‚Üê Previous</button>
                <button class="control-btn" id="phrase-next-btn">Next ‚Üí</button>
            </div>
        </div>
    </div>

    <script>
        // Data Structure
        const vocabularyData = {
            mandarin: {
                medications: [
                    { english: "Medicine", translation: "ËçØ (y√†o)", pronunciation: "yow" },
                    { english: "Tablet", translation: "ËçØÁâá (y√†o pi√†n)", pronunciation: "yow pyen" },
                    { english: "Capsule", translation: "ËÉ∂Âõä (jiƒÅo n√°ng)", pronunciation: "jyow nahng" },
                    { english: "Syrup", translation: "Á≥ñÊµÜ (t√°ng jiƒÅng)", pronunciation: "tahng jyang" },
                    { english: "Cream/Ointment", translation: "ËçØËÜè (y√†o gƒÅo)", pronunciation: "yow gow" },
                    { english: "Eye drops", translation: "ÁúºËçØÊ∞¥ (y«én y√†o shu«ê)", pronunciation: "yen yow shway" },
                    { english: "Antibiotic", translation: "ÊäóÁîüÁ¥† (k√†ng shƒìng s√π)", pronunciation: "kahng shung soo" },
                    { english: "Painkiller", translation: "Ê≠¢ÁóõËçØ (zh«ê t√≤ng y√†o)", pronunciation: "jir tohng yow" },
                    { english: "Vitamin", translation: "Áª¥ÁîüÁ¥† (w√©i shƒìng s√π)", pronunciation: "way shung soo" },
                    { english: "Prescription", translation: "Â§ÑÊñπ (ch«î fƒÅng)", pronunciation: "choo fahng" }
                ],
                service: [
                    { english: "Hello", translation: "‰Ω†Â•Ω (n«ê h«éo)", pronunciation: "nee how" },
                    { english: "Can I help you?", translation: "ÊàëËÉΩÂ∏Æ‰Ω†ÂêóÔºü(w«í n√©ng bƒÅng n«ê ma?)", pronunciation: "wor nung bahng nee mah" },
                    { english: "Please wait", translation: "ËØ∑Á≠â‰∏Ä‰∏ã (q«êng dƒõng yƒ´ xi√†)", pronunciation: "ching dung ee shyah" },
                    { english: "Thank you", translation: "Ë∞¢Ë∞¢ (xi√® xi√®)", pronunciation: "shyeh shyeh" },
                    { english: "You're welcome", translation: "‰∏çÂÆ¢Ê∞î (b√∫ k√® qi)", pronunciation: "boo kuh chee" },
                    { english: "Do you have insurance?", translation: "‰Ω†Êúâ‰øùÈô©ÂêóÔºü(n«ê y«íu b«éo xi«én ma?)", pronunciation: "nee yo bow shyen mah" },
                    { english: "Sign here", translation: "ËØ∑Âú®ËøôÈáåÁ≠æÂêç (q«êng z√†i zh√® l«ê qiƒÅn m√≠ng)", pronunciation: "ching zai jur lee chyen ming" },
                    { english: "How can I help you?", translation: "ÊàëÂèØ‰ª•Â∏Æ‰Ω†‰ªÄ‰πàÔºü(w«í kƒõ y«ê bƒÅng n«ê sh√©n me?)", pronunciation: "wor kuh ee bahng nee shun muh" }
                ],
                conditions: [
                    { english: "Pain", translation: "ÁñºÁóõ (t√©ng t√≤ng)", pronunciation: "tung tohng" },
                    { english: "Fever", translation: "ÂèëÁÉß (fƒÅ shƒÅo)", pronunciation: "fah show" },
                    { english: "Cough", translation: "Âí≥ÂóΩ (k√© sou)", pronunciation: "kuh so" },
                    { english: "Cold", translation: "ÊÑüÂÜí (g«én m√†o)", pronunciation: "gahn mow" },
                    { english: "Headache", translation: "Â§¥Áóõ (t√≥u t√≤ng)", pronunciation: "toh tohng" },
                    { english: "Stomach ache", translation: "ËÇöÂ≠êÁóõ (d√π zi t√≤ng)", pronunciation: "doo zuh tohng" },
                    { english: "Allergy", translation: "ËøáÊïè (gu√≤ m«ên)", pronunciation: "gwor meen" },
                    { english: "Diabetes", translation: "Á≥ñÂ∞øÁóÖ (t√°ng ni√†o b√¨ng)", pronunciation: "tahng nyow bing" },
                    { english: "High blood pressure", translation: "È´òË°ÄÂéã (gƒÅo xu√® yƒÅ)", pronunciation: "gow shweh yah" }
                ],
                dosage: [
                    { english: "Take twice daily", translation: "ÊØèÂ§©‰∏§Ê¨° (mƒõi tiƒÅn li«éng c√¨)", pronunciation: "may tyen lyahng tsuh" },
                    { english: "Before meals", translation: "È•≠Ââç (f√†n qi√°n)", pronunciation: "fahn chyen" },
                    { english: "After meals", translation: "È•≠Âêé (f√†n h√≤u)", pronunciation: "fahn ho" },
                    { english: "Once a day", translation: "‰∏ÄÂ§©‰∏ÄÊ¨° (yƒ´ tiƒÅn yƒ´ c√¨)", pronunciation: "ee tyen ee tsuh" },
                    { english: "As needed", translation: "ÈúÄË¶ÅÊó∂ÊúçÁî® (x≈´ y√†o sh√≠ f√∫ y√≤ng)", pronunciation: "shoo yow shir foo yohng" },
                    { english: "With water", translation: "Áî®Ê∞¥ÊúçÁî® (y√≤ng shu«ê f√∫ y√≤ng)", pronunciation: "yohng shway foo yohng" },
                    { english: "Do not exceed", translation: "‰∏çË¶ÅË∂ÖËøá (b√∫ y√†o chƒÅo gu√≤)", pronunciation: "boo yow chow gwor" }
                ]
            },
            malay: {
                medications: [
                    { english: "Medicine", translation: "Ubat", pronunciation: "oo-baht" },
                    { english: "Tablet", translation: "Tablet", pronunciation: "tah-blet" },
                    { english: "Capsule", translation: "Kapsul", pronunciation: "kahp-sool" },
                    { english: "Syrup", translation: "Sirap", pronunciation: "see-rahp" },
                    { english: "Cream/Ointment", translation: "Krim", pronunciation: "kreem" },
                    { english: "Eye drops", translation: "Titisan mata", pronunciation: "tee-tee-sahn mah-tah" },
                    { english: "Antibiotic", translation: "Antibiotik", pronunciation: "ahn-tee-bee-oh-teek" },
                    { english: "Painkiller", translation: "Ubat penahan sakit", pronunciation: "oo-baht puh-nah-hahn sah-keet" },
                    { english: "Vitamin", translation: "Vitamin", pronunciation: "vee-tah-meen" },
                    { english: "Prescription", translation: "Preskripsi", pronunciation: "pres-kreep-see" }
                ],
                service: [
                    { english: "Hello", translation: "Selamat datang", pronunciation: "suh-lah-maht dah-tahng" },
                    { english: "Can I help you?", translation: "Boleh saya tolong?", pronunciation: "boh-leh sah-yah toh-lohng" },
                    { english: "Please wait", translation: "Sila tunggu", pronunciation: "see-lah toong-goo" },
                    { english: "Thank you", translation: "Terima kasih", pronunciation: "tuh-ree-mah kah-see" },
                    { english: "You're welcome", translation: "Sama-sama", pronunciation: "sah-mah sah-mah" },
                    { english: "Do you have insurance?", translation: "Adakah anda mempunyai insurans?", pronunciation: "ah-dah-kah ahn-dah mem-poon-yai een-soo-rahns" },
                    { english: "Sign here", translation: "Tandatangan di sini", pronunciation: "tahn-dah-tahn-gahn dee see-nee" },
                    { english: "How can I help you?", translation: "Apa yang boleh saya bantu?", pronunciation: "ah-pah yahng boh-leh sah-yah bahn-too" }
                ],
                conditions: [
                    { english: "Pain", translation: "Sakit", pronunciation: "sah-keet" },
                    { english: "Fever", translation: "Demam", pronunciation: "duh-mahm" },
                    { english: "Cough", translation: "Batuk", pronunciation: "bah-took" },
                    { english: "Cold", translation: "Selsema", pronunciation: "sel-suh-mah" },
                    { english: "Headache", translation: "Sakit kepala", pronunciation: "sah-keet kuh-pah-lah" },
                    { english: "Stomach ache", translation: "Sakit perut", pronunciation: "sah-keet puh-root" },
                    { english: "Allergy", translation: "Alahan", pronunciation: "ah-lah-hahn" },
                    { english: "Diabetes", translation: "Kencing manis", pronunciation: "kun-ching mah-nees" },
                    { english: "High blood pressure", translation: "Darah tinggi", pronunciation: "dah-rah teeng-ghee" }
                ],
                dosage: [
                    { english: "Take twice daily", translation: "Ambil dua kali sehari", pronunciation: "ahm-beel doo-ah kah-lee suh-hah-ree" },
                    { english: "Before meals", translation: "Sebelum makan", pronunciation: "suh-buh-loom mah-kahn" },
                    { english: "After meals", translation: "Selepas makan", pronunciation: "suh-luh-pahs mah-kahn" },
                    { english: "Once a day", translation: "Sekali sehari", pronunciation: "suh-kah-lee suh-hah-ree" },
                    { english: "As needed", translation: "Bila perlu", pronunciation: "bee-lah pur-loo" },
                    { english: "With water", translation: "Dengan air", pronunciation: "duh-ngahn ah-eer" },
                    { english: "Do not exceed", translation: "Jangan melebihi", pronunciation: "jah-ngahn muh-luh-bee-hee" }
                ]
            }
        };

        const phrasesData = {
            mandarin: {
                greetings: [
                    { english: "Good morning", translation: "Êó©‰∏äÂ•Ω (z«éo sh√†ng h«éo)", pronunciation: "zow shahng how" },
                    { english: "Good afternoon", translation: "‰∏ãÂçàÂ•Ω (xi√† w«î h«éo)", pronunciation: "shyah woo how" },
                    { english: "How are you?", translation: "‰Ω†Â•ΩÂêóÔºü(n«ê h«éo ma?)", pronunciation: "nee how mah" },
                    { english: "Welcome", translation: "Ê¨¢Ëøé (huƒÅn y√≠ng)", pronunciation: "hwahn yeeng" },
                    { english: "Have a nice day", translation: "Á•ù‰Ω†ÊúâÁæéÂ•ΩÁöÑ‰∏ÄÂ§© (zh√π n«ê y«íu mƒõi h«éo de yƒ´ tiƒÅn)", pronunciation: "joo nee yo may how duh ee tyen" }
                ],
                questions: [
                    { english: "Do you have any allergies?", translation: "‰Ω†ÊúâËøáÊïèÂêóÔºü(n«ê y«íu gu√≤ m«ên ma?)", pronunciation: "nee yo gwor meen mah" },
                    { english: "Are you taking any medication?", translation: "‰Ω†Âú®ÊúçÁî®‰ªª‰ΩïËçØÁâ©ÂêóÔºü(n«ê z√†i f√∫ y√≤ng r√®n h√© y√†o w√π ma?)", pronunciation: "nee zai foo yohng run huh yow woo mah" },
                    { english: "When did the symptoms start?", translation: "ÁóáÁä∂‰ªÄ‰πàÊó∂ÂÄôÂºÄÂßãÁöÑÔºü(zh√®ng zhu√†ng sh√©n me sh√≠ hou kƒÅi sh«ê de?)", pronunciation: "jung jwahng shun muh shir ho kai shir duh" },
                    { english: "Have you seen a doctor?", translation: "‰Ω†ÁúãËøáÂåªÁîü‰∫ÜÂêóÔºü(n«ê k√†n gu√≤ yƒ´ shƒìng le ma?)", pronunciation: "nee kahn gwor ee shung luh mah" }
                ],
                instructions: [
                    { english: "Take with food", translation: "ÈöèÈ§êÊúçÁî® (su√≠ cƒÅn f√∫ y√≤ng)", pronunciation: "sway tsahn foo yohng" },
                    { english: "Keep refrigerated", translation: "ÈúÄË¶ÅÂÜ∑Ëóè (x≈´ y√†o lƒõng c√°ng)", pronunciation: "shoo yow lung tsahng" },
                    { english: "Shake well before use", translation: "‰ΩøÁî®ÂâçÊëáÂåÄ (sh«ê y√≤ng qi√°n y√°o y√∫n)", pronunciation: "shir yohng chyen yow yoon" },
                    { english: "For external use only", translation: "‰ªÖ‰æõÂ§ñÁî® (j«ên g≈çng w√†i y√≤ng)", pronunciation: "jeen gohng wai yohng" },
                    { english: "Do not drive after taking", translation: "ÊúçÁî®Âêé‰∏çË¶ÅÂºÄËΩ¶ (f√∫ y√≤ng h√≤u b√∫ y√†o kƒÅi chƒì)", pronunciation: "foo yohng ho boo yow kai chuh" }
                ]
            },
            malay: {
                greetings: [
                    { english: "Good morning", translation: "Selamat pagi", pronunciation: "suh-lah-maht pah-ghee" },
                    { english: "Good afternoon", translation: "Selamat petang", pronunciation: "suh-lah-maht puh-tahng" },
                    { english: "How are you?", translation: "Apa khabar?", pronunciation: "ah-pah kah-bahr" },
                    { english: "Welcome", translation: "Selamat datang", pronunciation: "suh-lah-maht dah-tahng" },
                    { english: "Have a nice day", translation: "Semoga hari anda menyenangkan", pronunciation: "suh-moh-gah hah-ree ahn-dah muh-nyuh-nahng-kahn" }
                ],
                questions: [
                    { english: "Do you have any allergies?", translation: "Adakah anda mempunyai alahan?", pronunciation: "ah-dah-kah ahn-dah mem-poon-yai ah-lah-hahn" },
                    { english: "Are you taking any medication?", translation: "Adakah anda mengambil sebarang ubat?", pronunciation: "ah-dah-kah ahn-dah muh-ngahm-beel suh-bah-rahng oo-baht" },
                    { english: "When did the symptoms start?", translation: "Bila simptom bermula?", pronunciation: "bee-lah seem-tohm ber-moo-lah" },
                    { english: "Have you seen a doctor?", translation: "Sudahkah anda berjumpa doktor?", pronunciation: "soo-dah-kah ahn-dah ber-joom-pah dohk-tohr" }
                ],
                instructions: [
                    { english: "Take with food", translation: "Ambil bersama makanan", pronunciation: "ahm-beel ber-sah-mah mah-kah-nahn" },
                    { english: "Keep refrigerated", translation: "Simpan dalam peti sejuk", pronunciation: "seem-pahn dah-lahm puh-tee suh-jook" },
                    { english: "Shake well before use", translation: "Goncang dengan baik sebelum guna", pronunciation: "gohn-chahng duh-ngahn bah-eek suh-buh-loom goo-nah" },
                    { english: "For external use only", translation: "Untuk kegunaan luar sahaja", pronunciation: "oon-took kuh-goo-nah-ahn loo-ahr sah-hah-jah" },
                    { english: "Do not drive after taking", translation: "Jangan memandu selepas mengambil", pronunciation: "jah-ngahn muh-mahn-doo suh-luh-pahs muh-ngahm-beel" }
                ]
            }
        };

        // State
        let currentLanguage = 'mandarin';
        let currentMode = null;
        let currentCategory = 'medications';
        let currentPhraseCategory = 'greetings';
        let currentIndex = 0;
        let quizQuestions = [];
        let currentQuizIndex = 0;
        let quizScore = 0;
        let selectedAnswer = null;

        // Elements
        const langButtons = document.querySelectorAll('.lang-btn');
        const modeCards = document.querySelectorAll('.mode-card');
        const learningAreas = document.querySelectorAll('.learning-area');
        const categoryButtons = document.querySelectorAll('.category-btn');
        const flashcard = document.getElementById('flashcard');
        const phraseFlashcard = document.getElementById('phrase-flashcard');

        // Initialize
        function init() {
            // Language toggle
            langButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    langButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentLanguage = btn.dataset.lang;
                    updateContent();
                });
            });

            // Mode selection
            modeCards.forEach(card => {
                card.addEventListener('click', () => {
                    modeCards.forEach(c => c.classList.remove('active'));
                    card.classList.add('active');
                    currentMode = card.dataset.mode;
                    showMode(currentMode);
                });
            });

            // Flashcard flip
            flashcard.addEventListener('click', () => {
                flashcard.classList.toggle('flipped');
            });

            phraseFlashcard.addEventListener('click', () => {
                phraseFlashcard.classList.toggle('flipped');
            });

            // Navigation
            document.getElementById('prev-btn').addEventListener('click', () => navigateFlashcard(-1));
            document.getElementById('next-btn').addEventListener('click', () => navigateFlashcard(1));
            document.getElementById('phrase-prev-btn').addEventListener('click', () => navigatePhrase(-1));
            document.getElementById('phrase-next-btn').addEventListener('click', () => navigatePhrase(1));

            // Audio (simulated)
            document.getElementById('play-audio').addEventListener('click', (e) => {
                e.stopPropagation();
                playAudio();
            });

            document.getElementById('phrase-play-audio').addEventListener('click', (e) => {
                e.stopPropagation();
                playAudio();
            });

            // Category selection for flashcards
            document.querySelectorAll('#flashcards-area .category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('#flashcards-area .category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentCategory = btn.dataset.category;
                    currentIndex = 0;
                    updateFlashcard();
                });
            });

            // Category selection for quiz
            document.querySelectorAll('#quiz-area .category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('#quiz-area .category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentCategory = btn.dataset.category;
                    startQuiz();
                });
            });

            // Category selection for phrases
            document.querySelectorAll('#phrases-area .category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('#phrases-area .category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentPhraseCategory = btn.dataset.category;
                    currentIndex = 0;
                    updatePhraseFlashcard();
                });
            });
        }

        function showMode(mode) {
            learningAreas.forEach(area => area.classList.remove('active'));
            if (mode === 'flashcards') {
                document.getElementById('flashcards-area').classList.add('active');
                updateFlashcard();
            } else if (mode === 'quiz') {
                document.getElementById('quiz-area').classList.add('active');
                startQuiz();
            } else if (mode === 'phrases') {
                document.getElementById('phrases-area').classList.add('active');
                updatePhraseFlashcard();
            }
        }

        function updateContent() {
            if (currentMode === 'flashcards') {
                updateFlashcard();
            } else if (currentMode === 'quiz') {
                startQuiz();
            } else if (currentMode === 'phrases') {
                updatePhraseFlashcard();
            }
        }

        function updateFlashcard() {
            const data = vocabularyData[currentLanguage][currentCategory];
            if (data && data[currentIndex]) {
                const item = data[currentIndex];
                document.getElementById('word-english').textContent = item.english;
                document.getElementById('word-translation').textContent = item.translation;
                document.getElementById('word-pronunciation').textContent = item.pronunciation;
                
                // Update progress
                document.getElementById('progress-text').textContent = `${currentIndex + 1} / ${data.length}`;
                document.getElementById('progress-fill').style.width = `${((currentIndex + 1) / data.length) * 100}%`;
                
                // Reset flip
                flashcard.classList.remove('flipped');
            }
        }

        function updatePhraseFlashcard() {
            const data = phrasesData[currentLanguage][currentPhraseCategory];
            if (data && data[currentIndex]) {
                const item = data[currentIndex];
                document.getElementById('phrase-english').textContent = item.english;
                document.getElementById('phrase-translation').textContent = item.translation;
                document.getElementById('phrase-pronunciation').textContent = item.pronunciation;
                
                // Reset flip
                phraseFlashcard.classList.remove('flipped');
            }
        }

        function navigateFlashcard(direction) {
            const data = vocabularyData[currentLanguage][currentCategory];
            currentIndex += direction;
            if (currentIndex < 0) currentIndex = data.length - 1;
            if (currentIndex >= data.length) currentIndex = 0;
            updateFlashcard();
        }

        function navigatePhrase(direction) {
            const data = phrasesData[currentLanguage][currentPhraseCategory];
            currentIndex += direction;
            if (currentIndex < 0) currentIndex = data.length - 1;
            if (currentIndex >= data.length) currentIndex = 0;
            updatePhraseFlashcard();
        }

        function playAudio() {
            // Get the current translation text
            let textToSpeak = '';
            let lang = '';
            
            if (currentMode === 'flashcards') {
                const data = vocabularyData[currentLanguage][currentCategory];
                if (data && data[currentIndex]) {
                    textToSpeak = data[currentIndex].translation;
                }
            } else if (currentMode === 'phrases') {
                const data = phrasesData[currentLanguage][currentPhraseCategory];
                if (data && data[currentIndex]) {
                    textToSpeak = data[currentIndex].translation;
                }
            }
            
            // Set language code for speech synthesis
            if (currentLanguage === 'mandarin') {
                lang = 'zh-CN'; // Mandarin Chinese
            } else if (currentLanguage === 'malay') {
                lang = 'ms-MY'; // Malay
            }
            
            // Use Web Speech API for text-to-speech
            if ('speechSynthesis' in window) {
                // Cancel any ongoing speech
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(textToSpeak);
                utterance.lang = lang;
                utterance.rate = 0.8; // Slightly slower for learning
                utterance.pitch = 1;
                
                window.speechSynthesis.speak(utterance);
            } else {
                alert('Sorry, your browser does not support text-to-speech. Please try Chrome, Safari, or Edge.');
            }
        }

        function startQuiz() {
            quizScore = 0;
            currentQuizIndex = 0;
            selectedAnswer = null;
            
            // Generate quiz questions
            const data = vocabularyData[currentLanguage][currentCategory];
            quizQuestions = data.map(item => {
                const correctAnswer = item.translation;
                const otherAnswers = data
                    .filter(i => i.translation !== correctAnswer)
                    .sort(() => Math.random() - 0.5)
                    .slice(0, 3)
                    .map(i => i.translation);
                
                const allAnswers = [correctAnswer, ...otherAnswers].sort(() => Math.random() - 0.5);
                
                return {
                    question: item.english,
                    answers: allAnswers,
                    correct: correctAnswer
                };
            }).sort(() => Math.random() - 0.5).slice(0, 10);
            
            showQuizQuestion();
        }

        function showQuizQuestion() {
            if (currentQuizIndex >= quizQuestions.length) {
                showQuizResults();
                return;
            }
            
            const question = quizQuestions[currentQuizIndex];
            const container = document.getElementById('quiz-container');
            
            container.innerHTML = `
                <div class="quiz-question">
                    <p class="question-text">What is "${question.question}" in ${currentLanguage === 'mandarin' ? 'Mandarin' : 'Malay'}?</p>
                    <div class="quiz-options">
                        ${question.answers.map((answer, idx) => `
                            <div class="quiz-option" data-answer="${answer}">
                                ${answer}
                            </div>
                        `).join('')}
                    </div>
                    <div id="quiz-feedback"></div>
                </div>
                <button class="quiz-next" id="quiz-next-btn" style="display: none;">Next Question ‚Üí</button>
            `;
            
            // Update progress
            document.getElementById('quiz-progress-text').textContent = `Question ${currentQuizIndex + 1} / ${quizQuestions.length}`;
            document.getElementById('quiz-progress-fill').style.width = `${((currentQuizIndex + 1) / quizQuestions.length) * 100}%`;
            
            // Add click handlers
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', () => checkAnswer(option, question.correct));
            });
            
            document.getElementById('quiz-next-btn').addEventListener('click', () => {
                currentQuizIndex++;
                showQuizQuestion();
            });
        }

        function checkAnswer(selectedOption, correctAnswer) {
            if (selectedAnswer !== null) return; // Already answered
            
            selectedAnswer = selectedOption.dataset.answer;
            const isCorrect = selectedAnswer === correctAnswer;
            
            if (isCorrect) {
                quizScore++;
                selectedOption.classList.add('correct');
                document.getElementById('quiz-feedback').innerHTML = '<div class="quiz-feedback correct">‚úì Correct! Well done!</div>';
            } else {
                selectedOption.classList.add('incorrect');
                document.querySelectorAll('.quiz-option').forEach(option => {
                    if (option.dataset.answer === correctAnswer) {
                        option.classList.add('correct');
                    }
                });
                document.getElementById('quiz-feedback').innerHTML = `<div class="quiz-feedback incorrect">‚úó Incorrect. The correct answer is: ${correctAnswer}</div>`;
            }
            
            document.getElementById('quiz-next-btn').style.display = 'block';
        }

        function showQuizResults() {
            const percentage = Math.round((quizScore / quizQuestions.length) * 100);
            let message = '';
            
            if (percentage >= 90) {
                message = 'Outstanding! You\'re ready for the pharmacy floor! üåü';
            } else if (percentage >= 70) {
                message = 'Great job! Keep practicing to master the vocabulary! üëè';
            } else if (percentage >= 50) {
                message = 'Good effort! Review the flashcards and try again! üìö';
            } else {
                message = 'Keep studying! Practice makes perfect! üí™';
            }
            
            document.getElementById('quiz-container').innerHTML = `
                <div class="quiz-results">
                    <div class="results-score">${percentage}%</div>
                    <div class="results-message">${message}</div>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">You got ${quizScore} out of ${quizQuestions.length} questions correct.</p>
                    <button class="restart-btn" onclick="startQuiz()">Try Again</button>
                </div>
            `;
            
            selectedAnswer = null;
        }

        // Initialize the app
        init();
        
        // Auto-activate flashcards mode on load
        document.querySelector('[data-mode="flashcards"]').classList.add('active');
        currentMode = 'flashcards';
        showMode('flashcards');
    </script>
</body>
</html>